<html>
    <head>
        <link rel="stylesheet" href="../css/bootstrap.css">
        <link rel="stylesheet" href="../css/index.css">
        <link rel="stylesheet" href="../css/metro.min.css">
        <link rel="stylesheet" href="../css/metro-icons.min.css">
        <link rel="stylesheet" href="../css/default.css">
        <link rel="stylesheet" href="../css/default.date.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    </head>
    <body>
        <!-- Menu -->
        <div class="app-bar" data-role="appbar">
            <a class="app-bar-element branding" id="branding">JournalBear</a>
            <ul class="app-bar-menu">
                <li>
                    <a class="dropdown-toggle">File</a>
                    <ul class="d-menu" data-role="dropdown">
                        <li><a id="newJournal">New Journal</a></li>
                        <li><a id="open">Open</a></li>
                        <li><a id="save">Save</a></li>
                    </ul>
                </li>
                <li>
                    <a class="dropdown-toggle">Entry</a>
                    <ul class="d-menu" data-role="dropdown">
                        <li><a id="newEntry">New Entry</a></li>
                        <li><a id="updateEntry">Update Entry</a></li>
                        <li><a id="searchByDate">Search by Date</a></li>
                    </ul>
                </li>
                <li>
                    <a class="dropdown-toggle">Help</a>
                    <ul class="d-menu" data-role="dropdown">
                        <li><a id="aboutButton">About</a></li>
                        <li>
                            <a href="https://journalbear.wordpress.com/2017/12/02/markdown-formatting/">
                                Markdown formatting help
                            </a>
                        </li>
                        <li>
                            <a href="https://journalbear.wordpress.com/contact/" target="_blank">
                                Contact Us
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
            <div class="input-control modern text place-right" style="margin-right: 20px !important">
                <input type="text" id="queryInput">
                <span class="placeholder">Search...</span>
            </div>
        </div>

        <!-- Main Page starts here -->
        <div class="container" style="margin-top: 10px;">
            <div id="journal-mode" style="display: none" class="row">
                <div id="list" class="col">

                </div>
                <div id="content" class="col">

                </div>
            </div>
            <div id="welcome-page">
                <div class="row">
                    <div class="col" style="padding-right: 20px">
                        <div style="margin-left: 40px;">
                            <p class="welcome-page-title">
                                Get Started
                            </p>
                            <p>
                                <a style="font-size: 16px;" target="_blank" href="https://github.com/yrahul3910/journal/issues">
                                    Request a feature or report a bug
                                </a>
                            </p>
                            <p>
                                <a style="font-size: 16px;" target="_blank" href="https://github.com/yrahul3910/journal">
                                    View our source code
                                </a>
                            </p>
                            <p>
                                <a style="font-size: 16px;" target="_blank" href="https://journalbear.wordpress.com/contact/">
                                    Leave us a message
                                </a>
                            </p>

                            <p class="welcome-page-title" style="margin-top: 40px;">
                                Help
                            </p>
                            <p>
                                <a style="font-size: 16px;" target="_blank" href="https://journalbear.wordpress.com/2017/12/02/markdown-formatting/">
                                    Markdown Formatting Help
                                </a>
                            </p>
                            <p>
                                <a style="font-size: 16px" target="_blank" href="https://www.wikiwand.com/en/Advanced_Encryption_Standard">
                                    Learn more about the encryption algorithm we use
                                </a>
                            </p>
                        </div>
                    </div>
                    <div class="col" style="padding: 0">
                        <p class="welcome-page-title">
                            What's New
                        </p>
                        <ul class="main-page-list" style="margin-right: 35px;">
                            <li>Now add multiple pictures to your day's journal entry!</li>
                            <li>Fixed issues
                                <a target="_blank" href="https://github.com/yrahul3910/journal/issues/3">#3</a>,
                                <a target="_blank" href="https://github.com/yrahul3910/journal/issues/8">#8</a> and
                                <a target="_blank" href="https://github.com/yrahul3910/journal/issues/9">#9</a>
                            </li>
                            <li>Added support for emojis, task lists, and more!</li>
                            <li>Removed restriction of adding two spaces at the end of line breaks.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- New entry dialog -->
        <div data-role="dialog" id="editDialog" class="padding20 dialog" data-close-button="true" data-overlay="true" data-overlay-color="#1d1d1d" data-overlay-click-close="true" style="visibility: hidden;">
            <div id="addEntryError"></div>
            <div class="row">
                <div class="col" style="overflow: hidden; border-right: 0">
                    <p style="margin-top: 0.7rem">Date</p>
                </div>
                <div class="col" style="overflow: hidden; border-right: 0">
                    <input id="date" type="text" class="datepicker" />
                </div>
            </div>
            <div class="row">
                <div class="col" style="overflow: hidden; border-right: 0">
                    <p style="margin-top: 0.7rem">Choose a mood!</p>
                </div>
                <div class="col" style="overflow: hidden; border-right: 0">
                    <select style="width: 83%">
                        <option>Happy</option>
                        <option>Sad</option>
                        <option>Angry</option>
                        <option>Loved</option>
                        <option>Excited</option>
                        <option>Neutral</option>
                    </select>
                </div>
            </div>
            <div class="row" style="padding: 20px">
                <span>JournalBear uses Markdown for formatting. Use *asterisks* for <em>italics</em>,
                    and **double asterisks** for <b>bold</b>. You can also use underscores instead
                    of asterisks. If you like, you can also use HTML/CSS to format your
                    entry!</span>
            </div>
            <div class="input-control textarea">
                <textarea rows="15" cols="70"></textarea>
            </div>
            <div id="attachmentInput">
                <div>Add an image (optional)</div>
                <input style="margin-top: 10px; margin-bottom: 10px" type="file"
                    id="selectFile" accept="image/*" multiple>
            </div>
            <button class="button" id="preview">Preview</button>
            <button class="button" id="addEntry">Add Entry</button>
            <button class="button danger" id="cancelEntry">Cancel</button>
        </div>

        <!-- Error with new entry dialog -->
        <div data-role="dialog" id="errDialog" class="padding20 dialog" data-close-button="true" data-overlay="true" data-type="alert">
            <h1>Cannot create new entry</h1>
            <p> Please open a journal or create a new one first</p>
        </div>

        <!-- New journal password entry dialog -->
        <div data-role="dialog" id="newJournalDialog" class="padding20 dialog" data-close-button="true" data-overlay="true" data-overlay-color="#1d1d1d" data-overlay-click-close="true" style="visibility: hidden;">
            <div id="newJournalError"></div>
            <div><span id="encryptionNotice">Your journal will be encrypted. Please enter a strong password. It's
                recommended to use a passphrase instead, but it's optional.</span></div>
            <div class="input-control password">
                <input type="password" id="password">
            </div>
            <div>Please re-enter your password</div>
            <div class="input-control password">
                <input type="password" id="confirmPassword">
            </div>
            <div>
                <button class="button" id="confirmNewJournal">Create New Journal</button>
                <button class="button danger" id="cancelNewJournal">Cancel</button>
            </div>
        </div>

        <!-- Decrypt dialog -->
        <div data-role="dialog" id="decryptDialog" class="padding20 dialog" data-close-button="true" data-overlay="true" data-overlay-color="#1d1d1d" data-overlay-click-close="true" style="visibility: hidden;">
            <div><span id="prompt">Please enter the password to decrypt</span></div>
            <div class="input-control password">
                <input type="password" id="unlock">
            </div>
            <div>
                <button class="button" id="decryptJournal">Decrypt</button>
                <button class="button danger" id="cancelDecrypt">Cancel</button>
            </div>
        </div>

        <!-- About dialog -->
        <div data-role="dialog" id="aboutDialog" class="padding20 dialog" data-close-button="true" data-overlay="true" data-overlay-color="#1d1d1d" data-overlay-click-close="true" style="visibility: hidden;">
            <h2>About</h2>
            <p><b>JournalBear 5.0</b><br/>
            By <b>Rahul Yedida</b></p>
            <p>JournalBear is a free and open source software. None of your data is collected. If you like the software,
                consider spreading the word to support it.</p>
            <p>Want to get involved? Check out our GitHub repo <a target="_blank" href="https://github.com/yrahul3910/journal">here!</a></a></p>
            <hr>
            <b>Credits</b><br><br>
            Bhavana KV
        </div>

        <!-- Search by date dialog -->
        <div data-role="dialog" id="searchDialog" class="padding20 dialog" data-close-button="true" data-overlay="true" data-overlay-color="#1d1d1d" data-overlay-click-close="true" style="visibility: hidden;">
            <div class="input-control text" data-role="datepicker">
                <input type="text" id="searchDate">
                <button class="button"><span class="mif-calendar"></span></button>
            </div>
            <button class="button" id="searchButton">Search</button>
        </div>

        <!-- Preview dialog -->
        <div data-role="dialog" id="previewDialog" class="padding20 dialog" data-close-button="true" data-overlay="true" data-overlay-color="#1d1d1d" data-overlay-click-close="true" style="visibility: hidden;">
            <div style="max-height: 300px; overflow: scroll" id="renderedMarkdown">
            </div>
        </div>
        <!-- Scripts start here -->
        <script src="../js/jquery.min.js"></script>
        <link rel="stylesheet" href="../css/select2.min.css">
        <script src="../js/select2.min.js"></script>

        <script src="../js/bootstrap.min.js"></script>
        <script src="../js/metro.min.js"></script>
        <script src="../js/picker.js"></script>
        <script src="../js/picker.date.js"></script>

        <script>
            $(()=>{
                $('select').select2();
                $('#date').pickadate();
            });
            require('./render.js');
        </script>
    </body>
</html>
